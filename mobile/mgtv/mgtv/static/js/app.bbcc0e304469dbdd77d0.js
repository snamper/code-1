webpackJsonp([1],{"36Ba":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAABlCAYAAABjl7XSAAAEUklEQVR4nO3du24UZwCG4c/jA4dAxKGgiVIgChTgEtJHUSL69OlzB5CLSBFEriJNCpKS3ABJZVmOBSUmIB92x96ZFLM2BszBfxTPTvw8khuvtftVfjWzO7Nz7ffX8orRytepLtzNwtmbqZaWkioAnERN0tTj7G79kebvuzl99eeDj87tB2S0fC7zFx9m8fKtPmYCMON2nv6ZybPPc/raerJ3eDFaPpfFK3+JBwBvtXj5syxeWc5o+VyyF5D5i79n/vylXocBMPvmz1/M/MWHSVJltHI7i5dv9r0JgIFYvHwro5XbVaoLd/reAsDAVBfuVFk4e6PvHQAMzMLZG1X3UV0AOIJqaalynQcAR1epBwBlBASAIgICQBEBAaCIgABQREAAKCIgABQREACKCAgARQQEgCICAkARAQGgiIAAUERAACgiIAAUERAAiggIAEUEBIAiAgJAEQEBoIiAAFBEQAAoIiAAFBEQAIoICABFBASAIgICQBEBAaBIlTR9bwBgcJpUaQUEgCNqm1Rpxn3PAGBomnGqTDb7ngHA0Ew2U2Xyou8ZAAzN5EWq7PS9AoDB2UmqTJI0dd9TABiKpk4me9eB1Gs9rwFgMKbN6AIyTlwPAsD7NdNm7AWkSTJ+3N8eAIZh/Hj/eOPlrUy266Td7WkRADOv3e1aMfUyIG2SzdXjHwTAMGyudq2YevVmijtJxt5QB+A147W8ftnHm3fj3aqTev2YFgEw8+r1rg2vOfx27lvryc7T/3oSALNu52nXhEMcHpA2ycYzp7MATrLxWteC9vCH3/2FUlt1srHs01kAJ0m72/3vP+S01UEL732inSTPV5MzS8mpT+JLDAH+r5ruOo/t+q1HHQe9PyBJ90RbdTJaSU4lWfo0qZb+1UwAZkRTd7cnGedINyX5sIDsv0iS7STba8l8ksUk8x8n8x8l1alkroojFIBZ1SRtkzTjZLKZTF50Z5kmZc92tIAcNNl70RfTHwBOEocLABQREACKCAgARQQEgCICAkARAQGgiIAAUERAACgiIAAUERAAiggIAEUEBIAiAgJAEQEBoIiAAFBEQAAoIiAAFBEQAIoICABFBASAIgICQBEBAaCIgABQREAAKCIgABQREACKCAgARQQEgCICAkCRKm3fEwAYnDapMul7BQCDM0mqpu57BQBD09RJtT7qewYAQ7M+Sqrt3aTd6nsKAEPRbiXbu9NPYT3ZTOJUFgDvU0+bkS4gddsmj587EgHgHbaTJ8+Ttvv07sZCkpUk19s2ebyRnBkll04n1VKShT6XAtCrNsmke8N8fdSdtjrgr4UkvyS5vveb7d3kycbxbgRgcB5USX5KXA0CwAebJLlfJXmU5F7PYwAYjntJHu3dC+u7JL/2OAaAYfgtXTP2b6ZYJ/kyyQ9Jmp5GATC7miQ/Jvkq0ws/5ta+eeOPbiT5NskXSa4mWTy+fQDMkM0kq0keJLmf7i2Pff8AGqr7d465faYAAAAASUVORK5CYII="},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("MVMM"),i=n("aozt"),s=n.n(i),a=n("I3h8"),r={name:"App",methods:{initSmcp:function(){var t=this;initSMCaptcha({organization:"UPLdPizkPMmRZklBqqit",appId:"tyhd",appendTo:"code-box",onError:function(t,e){console.log(e)}},function(e){e.onSuccess(function(e){e.pass&&(t.rid=e.rid,t.sendCode())}),e.onError(function(t,e){console.log("onError , errType, errMsg")})}),this.showCode=!0},openBtn:function(){this.tipMsg="",this.phone.length>0&&!this.snedWait?(this.btnOn=!0,this.code.length>0&&(this.submitBtn=!0)):(this.btnOn=!1,this.submitBtn=!1)},openSubmit:function(){this.tipMsg="",this.phone.length>0&&this.code.length>0?this.submitBtn=!0:this.submitBtn=!1},checkPhone:function(){/^[1][3,4,5,7,8][0-9]{9}$/.test(this.phone)?(this.btnOn=!1,this.queryPhone()):(this.tipMsg="请输入正确的手机号！",this.btnOn=!1,this.submitBtn=!1)},queryPhone:function(){var t=this;s.a.get("/share/user/h5/register.do",{params:{telNum:this.phone,type:"1"}}).then(function(e){t.codeOn(e.data)}).catch(function(t){alert(t)})},codeOn:function(t){"成功"==t.message?(this.tipMsg="",this.btnOn=!0,this.initSmcp()):(this.tipMsg=t.message,this.btnOn=!1,this.submitBtn=!1)},sendCode:function(){this.showCode=!1;var t=this;s.a.get("/tyuehd/user/phonecode.do",{params:{phoenNum:t.phone}}).then(function(e){"成功"==e.data.message?t.indexNum():(t.tipMsg=e.data.message,t.btnOn=!1)}).catch(function(t){alert(t)})},indexNum:function(){this.btnOn=!1,this.tipMsg="";var t=59;this.snedWait=!0;var e=this,n=setInterval(function(){if(e.codeText=t+" S",--t<1)return e.timeInterval(n)},1e3)},timeInterval:function(t){clearInterval(t),this.btnOn=!0,this.snedWait=!1,this.codeText="获取验证码"},submitRegister:function(){var t=this;if(!t.queryString("spreadType")||!t.queryString("spreadId"))return a.a.alert({title:"提示",message:"渠道参数有误！"}).then(function(){});s.a.get("/share/user/h5/register.do",{params:{telNum:this.phone,vildCode:this.code,type:"2",spreadType:t.queryString("spreadType"),spreadChannel:"4",spreadId:t.queryString("spreadId"),rid:this.rid,productId:"169"}}).then(function(e){"成功"==e.data.message?t.pop=!0:t.tipMsg=e.data.message}).catch(function(t){alert(t)})},goDownload:function(){var t=navigator.userAgent,e=(navigator.appVersion,t.indexOf("Android")>-1||t.indexOf("Linux"),!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/));window.location.href=e?"https://itunes.apple.com/cn/app/id1286643034 ":"http://a.app.qq.com/o/simple.jsp?pkgname=com.tyhd.jifen"},queryString:function(t){var e=location.search.match(new RegExp("[?&]"+t+"=([^&]+)","i"));return null==e||e.length<1?"":e[1]}},data:function(){return{showCode:!1,tipMsg:"",phone:"",code:"",btnOn:!1,pop:!1,submitBtn:!1,codeText:"获取验证码",snedWait:!1,rid:""}}},c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("img",{staticClass:"topImg",attrs:{src:n("Uw9C"),alt:""}}),t._v(" "),o("img",{staticClass:"fontImg",attrs:{src:n("iL6a"),alt:""}}),t._v(" "),o("img",{staticClass:"bannerImg",attrs:{src:n("Yz7+"),alt:""}}),t._v(" "),o("div",{staticClass:"from-group"},[o("div",{staticClass:"inline-form"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"username",attrs:{type:"text",maxlength:"11",placeholder:"请输入手机号码"},domProps:{value:t.phone},on:{input:[function(e){e.target.composing||(t.phone=e.target.value)},t.openBtn]}})]),t._v(" "),o("div",{staticClass:"inline-form"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"code left",attrs:{type:"number",placeholder:"短信验证码"},domProps:{value:t.code},on:{input:[function(e){e.target.composing||(t.code=e.target.value)},t.openSubmit]}}),t._v(" "),o("button",{staticClass:"code-btn left",class:t.btnOn?"code-btn-on":"code-btn-off",attrs:{disabled:!t.btnOn&&"disabled"},on:{click:t.checkPhone}},[t._v(t._s(t.codeText))]),t._v(" "),o("div",{staticClass:"clear"})]),t._v(" "),o("button",{staticClass:"submit-btn",class:t.submitBtn?"submit-btn-on":"submit-btn-off",attrs:{disabled:!t.submitBtn&&"disabled"},on:{click:t.submitRegister}},[t._v("点击领取优惠券")]),t._v(" "),o("div",{staticClass:"tip-msg"},[t._v(t._s(t.tipMsg))])]),t._v(" "),o("div",{staticClass:"dashed"}),t._v(" "),t._m(0),t._v(" "),o("van-popup",{staticClass:"popWrap",model:{value:t.pop,callback:function(e){t.pop=e},expression:"pop"}},[o("p",{staticClass:"popTitle"},[t._v("恭喜你")]),t._v(" "),o("div",{staticClass:"popContent"},[t._v("\n      领取优惠券成功！\n    ")]),t._v(" "),o("div",{staticClass:"popBtn"},[o("button",{on:{click:t.goDownload}},[t._v("立即兑换")]),t._v(" "),o("img",{attrs:{src:n("36Ba"),alt:""}})]),t._v(" "),o("p",{staticClass:"popDes"},[t._v("\n      请下载“赚动”app进行领取芒果tv月卡兑换码\n    ")])]),t._v(" "),o("van-popup",{staticClass:"code_box",attrs:{id:"code-box"},model:{value:t.showCode,callback:function(e){t.showCode=e},expression:"showCode"}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("p",{staticClass:"title"},[t._v("使用规则：")]),t._v(" "),n("ul",{staticClass:"item_content"},[n("li",[t._v("1、新用户手机注册领取优惠券，9元尊享VIP月卡；  ")]),t._v(" "),n("li",[t._v("2、领取优惠券成功后，点击下载“赚动”app；")]),t._v(" "),n("li",[t._v("3、注册手机号码登录“赚动”app，进入我的“优惠券”点击“去使用”，下单成功，请在“我的卡包”查看兑换码；")]),t._v(" "),n("li",[t._v("4、芒果VIP会员卡可在芒果TV的PC端、移动端使用，不包括TV端；")]),t._v(" "),n("li",[t._v("5、本活动最终解释权归赚动所有。")])])])}]};var u=n("Z0/y")(r,c,!1,function(t){n("tSs9")},null,null).exports;n("VHke");o.a.config.productionTip=!1,o.a.use(a.b),n("qqDS"),new o.a({el:"#app",components:{App:u},template:"<App/>"})},Uw9C:function(t,e,n){t.exports=n.p+"static/img/top.0dcc675.png"},VHke:function(t,e){},"Yz7+":function(t,e,n){t.exports=n.p+"static/img/banner.b1fefc3.png"},iL6a:function(t,e,n){t.exports=n.p+"static/img/font.7fbaae0.png"},qqDS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,i=n("2LoE"),s=n.n(i),a=n("hRKE"),r=n.n(a),c=n("Yyxk"),u=n.n(c);!function t(e,n,i){function s(r,c){if(!n[r]){if(!e[r]){if(!c&&("function"==typeof o&&o))return o(r,!0);if(a)return a(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[r]={exports:{}};e[r][0].call(d.exports,function(t){return s(e[r][1][t]||t)},d,d.exports,t,e,n,i)}return n[r].exports}for(var a="function"==typeof o&&o,r=0;r<i.length;r++)s(i[r]);return s}({1:[function(t,e,n){e.exports={domain:["captcha.fengkongcloud.com"],register:"/ca/v1/register",check:"/ca/v1/fverify",conf:"/ca/v1/conf"}},{}],2:[function(t,e,n){var o={NETWORK_ERROR:{code:2001,message:"资源异常"},SERVER_ERROR:{code:2002,message:"服务器异常"},PARAMS_ERROR:{code:2003,message:"参数异常"},NET_TIMEOUT:{code:2005,message:"网络超时"}};e.exports=function(t,e,n){var i=o[t],s=i.message+": "+n.message;i.message=s,e&&"function"==typeof e.onError?e.onError(t,i):window.console&&console.log(t,i)}},{}],3:[function(t,e,n){var o="function"==typeof u.a&&"symbol"==r()(s.a)?function(t){return void 0===t?"undefined":r()(t)}:function(t){return t&&"function"==typeof u.a&&t.constructor===u.a&&t!==u.a.prototype?"symbol":void 0===t?"undefined":r()(t)},i=t("./_object.js"),a={isNumber:function(t){return"number"==typeof t},isString:function(t){return"string"==typeof t},isBoolean:function(t){return"boolean"==typeof t},isObject:function(t){return"object"===(void 0===t?"undefined":o(t))&&null!==t},isFunction:function(t){return"function"==typeof t},IsPC:function(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,o=0;o<e.length;o++)if(t.indexOf(e[o])>0){n=!1;break}return n},normalizeDomain:function(t){return t.replace(/^https?:\/\/|\/$/g,"")},normalizePath:function(t){return 0!==(t=t.replace(/\/+/g,"/")).indexOf("/")&&(t="/"+t),t},normalizeQuery:function(t){var e=this;if(!t)return"";var n="?";return new i(t)._each(function(t,o){(e.isString(o)||e.isNumber(o)||e.isBoolean(o))&&(n=n+encodeURIComponent(t)+"="+encodeURIComponent(o)+"&")}),"?"===n&&(n=""),n.replace(/&$/,"")},makeURL:function(t,e,n,o){var i=this;e=i.normalizeDomain(e);var s=i.normalizePath(n)+i.normalizeQuery(o);return e&&(s=t+e+s),s},hasSvg:function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}};e.exports=a},{"./_object.js":5}],4:[function(t,e,n){var o=t("./_functions.js"),i=function(t){this._config={timeout:t||6e3,timer:null}};i.prototype={random:function(){return parseInt(1e4*Math.random())+(new Date).valueOf()},loadCss:function(t,e){var n={status:!1,type:""},o=this,i=this._config.timeout,s=setTimeout(function(){for(var o=document.styleSheets.length,i=0;i<o;i++)(document.styleSheets[i]&&document.styleSheets[i].href||"").indexOf(t)>-1&&(n.status=!1,e(n))},1e3),a=document.createElement("link");a.rel="stylesheet",o.timeOutFun(i,function(t){t&&(a.onerror=null,a.onload=a.onreadystatechange=null,n.status=!0,n.type="NET_TIMEOUT",e(n))}),a.onerror=function(){window.clearTimeout(s),window.clearTimeout(o._config.timer),n.status=!0,n.type="NETWORK_ERROR",e(n)},a.onload=a.onreadystatechange=function(){this.status||a.readyState&&"loaded"!==a.readyState&&"compvare"!==a.readyState||(window.clearTimeout(o._config.timer),window.clearTimeout(s),setTimeout(function(){e(n)},0))},a.href=t,function(){var t=document.getElementsByTagName("head")[0]||document.documentElement;t?setTimeout(function(){t.insertBefore(a,t.firstChild)},0):setTimeout(arguments.callee,10)}()},loadScript:function(t,e,n){var o={status:!1,type:""},i=this,s=i._config.timeout,a=document.createElement("script");a.charset="UTF-8",a.async=!0,i.timeOutFun(s,function(t){t&&"loaded"!==i._config.status&&(a.onerror=null,a.onload=a.onreadystatechange=null,o.status=!0,o.type="NET_TIMEOUT",window[n]=function(){return!1},e(o))}),a.onerror=function(){window.clearTimeout(i._config.timer),o.status=!0,o.type="NETWORK_ERROR",e(o)},i._config.status="load",a.onload=a.onreadystatechange=function(){this.status||a.readyState&&"loaded"!==a.readyState&&"compvare"!==a.readyState||(window.clearTimeout(i._config.timer),setTimeout(function(){e(o)},0))},a.src=t,function(){var t=document.getElementsByTagName("head")[0]||document.documentElement;t?setTimeout(function(){t.insertBefore(a,t.firstChild)},0):setTimeout(arguments.callee,10)}()},load:function(t,e,n,i,s,a){var r=this,c="load"+t;!function t(u){var d=o.makeURL(i,e[u],n,s);r[c](d,function(n){n.status?u>=e.length-1?a(n):t(u+1):a(n)},s.callback)}(0)},timeOutFun:function(t,e){var n=this;n._config.timer&&window.clearTimeout(n._config.timer),n._config.timer=setTimeout(function(){e(!0)},t)},jsonp:function(t,e,n,o,i){var s="smcb_"+this.random();o.callback=s,window.smCB=window[s]=function(t){i({status:!1,type:""},t||{}),window[s]=void 0;try{delete window[s]}catch(t){}},this.load("Script",t,e,n,o,function(t){t.status&&(window.smCB=window[s]=function(){return!1},i(t,{}))})}},e.exports=i},{"./_functions.js":3}],5:[function(t,e,n){var o=function(t){this._obj=t};o.prototype={_each:function(t){var e=this._obj;for(var n in e)e.hasOwnProperty(n)&&t(n,e[n]);return this}},e.exports=o},{}],6:[function(t,e,n){function o(t){this.smConfApi=c.domain,this.protocol=window.location.protocol.match(/http/)?window.location.protocol+"//":"https://",this.sourcePath=c.conf,this.onError=function(){},this._extend(t)}var i=t("../pkg/_load.js"),s=t("../pkg/_error.js"),a=t("../pkg/_object.js"),r=t("../pkg/_functions.js"),c=t("../pkg/_config.js");o.prototype={_extend:function(t){var e=this;new a(t)._each(function(t,n){e[t]=n})}},window.initSMCaptcha=function(t,e){var n=new o(t),a={organization:n.organization,appId:n.appId,rversion:n.version},c=function(t){var e=t.organization,n=t.appId,o=t.appendTo,i={status:!1,message:""};return e&&r.isString(e)?n&&r.isString(n)?o&&r.isString(o)&&document.getElementById(o)?i:(i.status=!0,i.message="请确保选择器(appendTo)为包框id",i):(i.status=!0,i.message="请确保应用标识(appId)为字符串类型",i):(i.status=!0,i.message="请确保公司标识(organization)配置无误, 如有问题向数美确认",i)}(n);c.status?s("PARAMS_ERROR",n,{message:c.message}):(n.https&&(n.protocol="https://"),(new i).jsonp(n.smConfApi,n.sourcePath,n.protocol,a,function(t,o){if(t.status)s(t.type,n,{message:"服务端无响应"});else{var a=o.code,c=o.message,u=o.detail||{};if(a&&1100===a){var d=u.js,p=u.domains,l=u.css;if(!r.isString(d)||!r.isString(l)||!r.isObject(p)||!p.length||p.length<1)return void s("SERVER_ERROR",n,{message:c});(new i).load("Script",p,d,n.protocol,{},function(t){t.status?s(t.type,n,{message:"JS SDK资源加载失败"}):(n._extend({css:l,domains:p}),e(new window.SMCaptcha(n)));var o=0;setTimeout(function(){var t=document.getElementById("SMCaptcha-captcha-root");o=t?t.clientWidth:0},100),window.onresize=function(){var t=document.getElementById("SMCaptcha-captcha-root"),i=t?t.clientWidth:0;i!=o&&(e(new window.SMCaptcha(n)),o=i)}})}else s("SERVER_ERROR",n,{message:c})}}))}},{"../pkg/_config.js":1,"../pkg/_error.js":2,"../pkg/_functions.js":3,"../pkg/_load.js":4,"../pkg/_object.js":5}]},{},[6])},tSs9:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.bbcc0e304469dbdd77d0.js.map