webpackJsonp([35],{383:function(e,t,a){"use strict";function n(e){switch(e.arrayFormat){case"index":return function(t,a,n){return null===a?[o(t,e),"[",n,"]"].join(""):[o(t,e),"[",o(n,e),"]=",o(a,e)].join("")};case"bracket":return function(t,a){return null===a?o(t,e):[o(t,e),"[]=",o(a,e)].join("")};default:return function(t,a){return null===a?o(t,e):[o(t,e),"=",o(a,e)].join("")}}}function r(e){var t;switch(e.arrayFormat){case"index":return function(e,a,n){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(n[e]=a);void 0===n[e]&&(n[e]={}),n[e][t[1]]=a};case"bracket":return function(e,a,n){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===n[e]?void(n[e]=[a]):void(n[e]=[].concat(n[e],a)):void(n[e]=a)};default:return function(e,t,a){if(void 0===a[e])return void(a[e]=t);a[e]=[].concat(a[e],t)}}}function o(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=a(392),i=a(64);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){t=i({arrayFormat:"none"},t);var a=r(t),n=Object.create(null);return"string"!=typeof e?n:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),a(decodeURIComponent(r),o,n)}),Object.keys(n).sort().reduce(function(e,t){var a=n[t];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?e[t]=c(a):e[t]=a,e},Object.create(null))):n},t.stringify=function(e,t){t=i({encode:!0,strict:!0,arrayFormat:"none"},t);var a=n(t);return e?Object.keys(e).sort().map(function(n){var r=e[n];if(void 0===r)return"";if(null===r)return o(n,t);if(Array.isArray(r)){var c=[];return r.slice().forEach(function(e){void 0!==e&&c.push(a(n,e,c.length))}),c.join("&")}return o(n,t)+"="+o(r,t)}).filter(function(e){return e.length>0}).join("&"):""}},392:function(e,t,a){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},491:function(e,t,a){"use strict";a.d(t,"b",function(){return s}),a.d(t,"a",function(){return i});var n=a(16),r=a.n(n),o=a(383),c=a.n(o),s=["/merchant/merchantAccount","/merchant/merchantMessage","/merchant/merchantMemberManage","/merchant/merchantChooseGoods","/merchant/merchantCancelGoods","/merchant/merchantGoodsManage","/merchant/platemOrderManage","/merchant/merchantRecommendGoods","/merchant/merchantBannerManager","/merchant/goodsPackMan","/merchant/addGoodsPack","/merchant/editorGoodsPack","/merchant/activityPutaway","/merchant/createdActive","/merchant/editorActives","/merchant/activityDetails","/merchant/purchaseDetail","/merchant/shareActiveConfig","/merchant/setActivityPut","/merchant/activityListMan","/merchant/goodsPackDetail"],i=function(e,t,a){t.listen(function(t){var n,o=c.a.parse(t.search);if(n=o.pageNo&&o.pageSize?c.a.parse(t.search):r()({},o,{pageNo:1,pageSize:10}),e({type:"app/noLoading",noLoading:!1}),t.pathname===a)return e({type:"query",payload:n})})}},665:function(e,t,a){"use strict";function n(e){if(e.url&&e.url.indexOf("//")>-1){var t="".concat(e.url.split("//")[0],"//").concat(e.url.split("//")[1].split("/")[0]);window.location.origin!==t&&(S.CORS&&S.CORS.indexOf(t)>-1?e.fetchType="CORS":S.YQL&&S.YQL.indexOf(t)>-1?e.fetchType="YQL":e.fetchType="JSONP")}return O(e).then(function(t){var a=t.statusText,n=t.status;if(4033===t.data.code)return void(window.location.href="/#/login");var r="YQL"===e.fetchType?t.data.query.results.json:t.data;return r instanceof Array&&(r={list:r}),s.a.resolve(o()({success:!0,message:a,statusCode:n},r))}).catch(function(e){var t=e.response;if(t&&t instanceof Object){var a=t.data,n=t.statusText;t.status,a.message||n}else 600,e.message||"Network Error";return window.location.href="/#/error",!0})}t.a=n;var r=a(16),o=a.n(r),c=a(70),s=a.n(c),i=a(105),u=(a.n(i),a(106)),d=a.n(u),p=a(33),l=a.n(p),f=a(110),h=a.n(f),g=a(176),m=a.n(g),v=a(177),y=a.n(v),b=a(178),x=a.n(b),w=a(179),k=a.n(w),j=a(180),G=a.n(j),S=a(32),O=(a.n(S),function(e){var t=e.method,a=void 0===t?"get":t,n=e.data,r=e.fetchType,o=e.url,c=k.a.cloneDeep(n);try{var i="";if(o.match(/[a-zA-z]+:\/\/[^\/]*/)){var u=o.match(/[a-zA-z]+:\/\/[^\/]*/);i=h()(u,1)[0],o=o.slice(i.length)}var p=G.a.parse(o);o=G.a.compile(o)(n);var f=!0,g=!1,v=void 0;try{for(var b,w=l()(p);!(f=(b=w.next()).done);f=!0){var j=b.value;j instanceof Object&&j.name in c&&delete c[j.name]}}catch(e){g=!0,v=e}finally{try{f||null==w.return||w.return()}finally{if(g)throw v}}o=i+o}catch(e){d.a.error(e.message)}if("JSONP"===r)return new s.a(function(e,t){x()(o,{param:"".concat(y.a.stringify(n),"&callback"),name:"jsonp_".concat((new Date).getTime()),timeout:4e3},function(a,n){a&&t(a),e({statusText:"OK",status:200,data:n})})});switch("YQL"===r&&(o="http://query.yahooapis.com/v1/public/yql?q=select * from json where url='".concat(e.url,"?").concat(encodeURIComponent(y.a.stringify(e.data)),"'&format=json"),n=null),a.toLowerCase()){case"get":return m.a.get(o,{params:c});case"delete":return m.a.delete(o,{data:c});case"post":return m.a.post(o,c);case"put":return m.a.put(o,c);case"patch":return m.a.patch(o,c);default:return m()(e)}})},890:function(e,t,a){"use strict";function n(e){return Object(h.a)({url:v,method:"get",data:e})}function r(e){return Object(m.a)({url:y,method:"post",data:e})}function o(e){return Object(m.a)({url:b,method:"get",data:e})}function c(e){return Object(m.a)({url:x,method:"post",data:e})}function s(e){return Object(h.a)({url:w,method:"post",data:e})}Object.defineProperty(t,"__esModule",{value:!0});var i=(a(105),a(106)),u=a.n(i),d=a(69),p=a.n(d),l=a(16),f=a.n(l),h=a(109),g=a(32),m=a(665),v=g.api.manGoodsList,y=g.api.editorGoodsPriceUrl,b=g.api.goodsPreviewUrl,x=(g.api.enabletchannel,g.api.disabletchannel,g.api.addchannel,g.api.updatechannel,g.api.getchannelproducts,g.api.getGoodsDetail,g.api.updategoodsstatus),w=g.api.updatebatchgoodsstatus,k=a(491);t.default={namespace:"goodsManagerModel",state:{dataSource:[],totalSize:0,pageSize:10,currentPage:1,tabActive:"4",chooseGoodsIds:[],chooseGoodsKeys:[],ifShowDetail:!1,productId:"",goodsMessage:"",updatePrice:""},subscriptions:{setup:function(e){var t=e.dispatch,a=e.history;Object(k.a)(t,a,k.b[5])}},reducers:{getList:function(e,t){return f()({},e,{dataSource:t.dataSource,totalSize:t.totalSize,currentPage:t.currentPage,pageSize:t.pageSize,tabActive:t.key,chooseGoodsKeys:t.ifRestart&&"1"===t.ifRestart?[]:t.chooseGoodsKeys,chooseGoodsIds:t.ifRestart&&"1"===t.ifRestart?[]:t.chooseGoodsIds})},changeChooseGoods:function(e,t){return f()({},e,{chooseGoodsIds:t.chooseGoodsIds,chooseGoodsKeys:t.chooseGoodsKeys})},showGoodsDetail:function(e,t){return console.log(t),f()({},e,{ifShowDetail:!0,productId:t.productId,goodsMessage:t.goodsMessage})},hideDialog:function(e,t){return f()({},e,{ifShowDetail:!1,productId:"",goodsMessage:""})},changePrice:function(e,t){return f()({},e,{updatePrice:t.index||0===t.index?t.index:""})}},effects:{query:p.a.mark(function e(t,a){var r,o,c,s,i,u,d,l,f,h,g,m,v,y,b,x;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.payload,o=void 0===r?{}:r,c=t.pageNo,s=t.pageSize,i=a.put,u=a.call,d=a.select,e.next=4,d(function(e){return e.goodsManagerModel.tabActive});case 4:return l=e.sent,o.status||(o.status=l),e.next=8,u(n,o);case 8:return f=e.sent,h=[],g=[],e.next=13,d(function(e){return e.goodsManagerModel.chooseGoodsIds});case 13:return h=e.sent,e.next=16,d(function(e){return e.goodsManagerModel.chooseGoodsKeys});case 16:if(g=e.sent,!f.success){e.next=27;break}return m=f.data.datas,v=f.data.totalRows,y=f.data.pageNo,b=f.data.pageSize,x=o.status,e.next=25,i({type:"getList",dataSource:m,totalSize:v,currentPage:y,pageSize:b,key:x,ifRestart:o.ifRestart,chooseGoodsIds:h,chooseGoodsKeys:g});case 25:e.next=28;break;case 27:console.log("out");case 28:case"end":return e.stop()}},e,this)}),savePrice:p.a.mark(function e(t,a){var n,o,c,s,i,d,l,f;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,o=void 0===n?{}:n,c=t.handleRefresh,s=a.put,i=a.call,d=o.values(),l={id:o.id,mailPrice:d.product},e.next=6,i(r,l);case 6:if(f=e.sent,!f.success){e.next=12;break}u.a.success("\u4ef7\u683c\u4fee\u6539\u6210\u529f\uff01"),window.location.reload(),e.next=14;break;case 12:return u.a.error(l.message),e.abrupt("return");case 14:case"end":return e.stop()}},e,this)}),updateBatchStatus:p.a.mark(function e(t,a){var n,r,o,c,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=void 0===n?{}:n,o=a.put,c=a.call,e.next=4,o({type:"app/noLoading",payload:{noLoading:2}});case 4:if(!(r.ids.length<1)){e.next=6;break}return e.abrupt("return",u.a.info("\u672a\u9009\u4e2d\u5546\u54c1\uff0c\u4e0d\u80fd\u4e0a\u67b6"));case 6:return e.next=8,c(s,r);case 8:if(i=e.sent,"\u6210\u529f"!==i.message){e.next=16;break}return e.next=12,o({type:"app/noLoading",payload:{noLoading:1}});case 12:u.a.success("\u6210\u529f"),window.location.reload(),e.next=17;break;case 16:return e.abrupt("return");case 17:return console.log(i),e.abrupt("return",i);case 19:case"end":return e.stop()}},e,this)}),updateGoods:p.a.mark(function e(t,a){var n,r,o,s,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=void 0===n?{}:n,o=a.put,s=a.call,e.next=4,o({type:"app/noLoading",payload:{noLoading:2}});case 4:return e.next=6,s(c,r);case 6:if(i=e.sent,"\u6210\u529f"!==i.message){e.next=13;break}return e.next=10,o({type:"app/noLoading",payload:{noLoading:1}});case 10:window.location.reload(),e.next=14;break;case 13:return e.abrupt("return");case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}},e,this)}),getGoodsDetail:p.a.mark(function e(t,a){var n,r,c,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload,r=a.put,c=a.call,e.next=4,c(o,n);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}},e,this)})}}}});